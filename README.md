# biocadTestWork
Ну вроде как все работает. Конечно я хотел там что-то закрутить с типами, но в итоге получается, что легче всего сделать 2 типа Node и Edge, без всяких экзистенциальных, или использовать классы как типы. И все отлично работает. Потратил в сумме где-то окло 3 рабочих дней +-, потому что надо было разобраться с neo4j, с библиотекой, которая как по мне не так уж и классно все сериализует и десериализует, хотя возможно я чего-то не понял и не разобрался, а то это бы заняло еще больше времени, а как-то у меня так много времени нет на тестовое. 

В Main.hs есть две main функции в одной показан полуавтоматическая генерация, где я нарисовал схему на листочке, а потом создал ее в БД. Ну а во второй функции main показан последовательный режим с определением типов. 

Также я не рассматривал случай когда у нас идентичные реакции, но с разными id, это не очень сложно, но опять же время, поэтому просто решил, что не буду. Ну это в принципе относится ко всем полям. Но если поля 1 в 1 идентичные, то они не пересоздаются, потому что create происходит с помощью merge.

Задачу поиска пути я решил самым легким способом - встроенной функцией в neo4j, потому что опять же время, но алгоритм Дейкстры думаю смогу написать за пару часов, у меня кстати по графам был когда-то проект, называется Sclogistic, там как раз рассматривается транспортная задача на Scala (не знаю как оно там работает или нет, но когда-то я этим занимался). 

Еще я не знаю, надо было ли точно придерживатся схемы, что у нас 2 молекулы на вход, + катализатор, и на выходе одна молекула. Но я предположил, что в реакции могут участвовать больше чем 2 молекулы, да даже и одна может, с катализатором, ну и на выходе тоже может быть больше чем одной молекулы (ну вроде как вспоминая уравнение реакции из 8 класса, все так). Опять же, не учитываю и не фильтрую когда, например, у реакции на вход идет пустой список (нет молекул), честно говоря этот случай я даже не тестировал, но как и до этого, просто откинем его. Возможно где-то лишние расширения языка, но это опять же, потому что хотелось что-то накрутить, но как всегда обычно и бывает, лучшее враг хорошего, и простых типов вполне достаточно. 

Мне кажется я вполне уверенно справился с задачей и получилось вполне неплохо. 

#### Схема на листочке:
![](https://github.com/daniilprohorov/biocadTestWork/blob/master/img/shemeByHand.jpg)

#### Схема в neo4j:
![](https://github.com/daniilprohorov/biocadTestWork/blob/master/img/shemeInNeo4j.png)

